<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins&amp;display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="Style.css" />
    <link
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
      rel="stylesheet"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="/scripts/js.js"></script>
    <title>Front-page</title>
  </head>

  <body>
    <nav>
      <div class="logo">
        <img src="/images/firelogo.png" alt="logo" />
      </div>
      <label for="btn" class="icon">
        <span class="fa fa-bars"></span>
      </label>
      <input type="checkbox" id="btn" />
      <ul>
        <li>
          <a href="#"><i class="fa fa-home"></i></a>
        </li>
        <li>
          <label for="btn-1" class="show">Theme+</label>
          <a href="#"><i class="fa fa-image"></i></a>
          <input type="checkbox" id="btn-1" />
          <ul>
            <li>
              <a>
                <div id="red">Red</div>
              </a>
            </li>
            <li>
              <a>
                <div id="blue">Blue</div>
              </a>
            </li>
            <li>
              <a>
                <div id="green">Green</div>
              </a>
            </li>
            <li>
              <a>
                <div id="gray">Gray</div>
              </a>
            </li>
            <li>
              <a>
                <div id="yellow">Yellow</div>
              </a>
            </li>
            <li>
              <a>
                <div id="orange">Orange</div>
              </a>
            </li>
          </ul>
        </li>
        <li>
          <label for="btn-1" class="show">Settings+</label>
          <a href="#"><i class="fa fa-cog"></i></a>
          <input type="checkbox" id="btn-2" />
          <ul>
            <li><a href="#">Grapics</a></li>
            <li><a href="#">Adjust</a></li>
            <li><a href="#">Colorblind</a></li>
          </ul>
        </li>
      </ul>
    </nav>

    <!-- BoxCreator -->
    <div class="MainContainer" id="maincontainer">
      <div class="card" style="--background: lightblue; --text: white;">
        <div class="multi-button">
          <button class="fa fa-comment"></button>
          <button class="fa fa-cog"></button>
          <button class="fa fa-trash"></button>
        </div>
        <div class="container"></div>
      </div>

      <div class="card" style="--background: orange; --text: white;">
        <div class="multi-button">
          <button class="fa fa-comment"></button>
          <button class="fa fa-cog"></button>
          <button class="fa fa-trash"></button>
        </div>
        <div class="container"></div>
      </div>

      <div class="createBox" id="createBox" style="">
        <i class="fa fa-plus" aria-hidden="true"></i>
      </div>
      <div
        class="card"
        id="Skoleprosjekt"
        style="--background: #28cc6d; --text: white;"
      >
        <div class="multi-button">
          <button class="fa fa-comment"></button>
          <button class="fa fa-cog"></button>
          <button class="fa fa-trash"></button>
        </div>
        <div class="container">
          <a href="#" onclick="newPage('test_page')">Skoleprosjekt</a>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      var getMainContainer = document.getElementById("maincontainer");
      var getColorRed = document.getElementById("red");
      var getColorBlue = document.getElementById("blue");
      var getColorGreen = document.getElementById("green");
      var getColorGray = document.getElementById("gray");
      var getColorYellow = document.getElementById("yellow");
      var getColorOrange = document.getElementById("orange");
      var getPlussAddProject = document.getElementById("createBox");

      getPlussAddProject.onclick = function () {
        addItem("project", "Skoleprosjekt", "#28cc6d");
      };

      function addItem(typeToAdd, text, color) {
        if (typeToAdd === "project") {
          setLocalStorage("project", {
            texToShow: `${text}`,
            backgroundcolor: `${color}`,
          });
          buildItems();
        }
        if (typeToAdd === "category") {
          setLocalStorage("category", {
            texToShow: `${text}`,
            backgroundcolor: `${color}`,
          });
        }
        if (typeToAdd === "task") {
          setLocalStorage("task", {
            texToShow: `${text}`,
            backgroundcolor: `${color}`,
          });
        }
        if (typeToAdd === "person") {
          setLocalStorage("person", {
            texToShow: `${text}`,
            backgroundcolor: `${color}`,
          });
        }
      }

      function buildItems() {
        let getArrayLocalStorage = getLocalStorage(`project`);
        let backgroundColor = getArrayLocalStorage.backgroundcolor;
        let text = getArrayLocalStorage.texToShow;
        getMainContainer.innerHTML += `<div class=" card" id=${text} style="--background:${backgroundColor}; --text:white;">
    <div class="multi-button">
      <button class="fa fa-comment"></button>
      <button class="fa fa-cog"></button>
      <button class="fa fa-trash"></button>
    </div>
    <div class="container"><a href="#" onclick="newPage('test_page')">${text}</a></div>
  </div>`;
      }

      getColorRed.onclick = function () {
        getMainContainer.style.backgroundColor = "#e74837";
      };
      getColorBlue.onclick = function () {
        getMainContainer.style.backgroundColor = "#2b8aca";
      };
      getColorGreen.onclick = function () {
        getMainContainer.style.backgroundColor = "#28cc6d";
      };
      getColorGray.onclick = function () {
        getMainContainer.style.backgroundColor = "#364c61";
      };
      getColorYellow.onclick = function () {
        getMainContainer.style.backgroundColor = "#e9bc0a";
      };
      getColorOrange.onclick = function () {
        getMainContainer.style.backgroundColor = "#df7921";
      };

      function setLocalStorage(type, object) {
        window.localStorage.setItem(type, JSON.stringify(object));
      }

      function getLocalStorage(type) {
        return JSON.parse(window.localStorage.getItem(type)) || [];
      }
    </script>

    <!-- MainContainer End-->

    <script src="scripts/newPage.js"></script>
    <script src="scripts/localStorageHandler.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.5/lib/darkmode-js.min.js"></script>
    <script src="scripts/darkmode.js"></script>
  </body>
</html>
